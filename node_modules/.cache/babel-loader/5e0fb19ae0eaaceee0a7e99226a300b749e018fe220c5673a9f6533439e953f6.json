{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"container\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-center mt-5\"\n}, \"CONFIGURACION ENTIDADES\")], -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"card-deck\"\n};\nconst _hoisted_3 = {\n  class: \"card-body\"\n};\nconst _hoisted_4 = [\"onSubmit\"];\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"deviceid\",\n  class: \"form-label\"\n}, \"Device ID:\", -1 /* HOISTED */);\nconst _hoisted_7 = [\"onUpdate:modelValue\"];\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"modelid\",\n  class: \"form-label\"\n}, \"Model ID:\", -1 /* HOISTED */);\nconst _hoisted_10 = [\"onUpdate:modelValue\"];\nconst _hoisted_11 = {\n  class: \"form-group\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"entityid\",\n  class: \"form-label\"\n}, \"Entity ID:\", -1 /* HOISTED */);\nconst _hoisted_13 = [\"onUpdate:modelValue\"];\nconst _hoisted_14 = {\n  class: \"form-group\"\n};\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"namedevice\",\n  class: \"form-label\"\n}, \"Nombre del dispositivo:\", -1 /* HOISTED */);\nconst _hoisted_16 = [\"onUpdate:modelValue\"];\nconst _hoisted_17 = {\n  class: \"form-group\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"typedevice\",\n  class: \"form-label\"\n}, \"Tipo de dispositivo:\", -1 /* HOISTED */);\nconst _hoisted_19 = [\"onUpdate:modelValue\"];\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"form-group\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary update-btn\"\n}, \"Actualizar\")], -1 /* HOISTED */);\nconst _hoisted_21 = {\n  class: \"form-group\"\n};\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"downlink\",\n  class: \"form-label\"\n}, \"Downlink:\", -1 /* HOISTED */);\nconst _hoisted_23 = [\"onUpdate:modelValue\"];\nconst _hoisted_24 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" <div class=\\\"btn-group mb-2\\\" role=\\\"group\\\">\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" @click=\\\"addDevice()\\\">Listado ntidades</button>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" @click=\\\"removeDevice()\\\">Eliminar Dispositivo</button>\\r\\n      <button type=\\\"button\\\" class=\\\"btn btn-success\\\" @click=\\\"updateDevices()\\\">Actualizar Todos los Dispositivos</button>\\r\\n    </div> \"), _hoisted_1, _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.devices, device => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: device.deviceid,\n      class: \"card\"\n    }, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", {\n      onSubmit: _withModifiers($event => $options.updateDevice(device), [\"prevent\"]),\n      class: \"device-form\"\n    }, [_createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": $event => device.deviceid = $event,\n      id: \"deviceid\",\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_7), [[_vModelText, device.deviceid]])]), _createElementVNode(\"div\", _hoisted_8, [_hoisted_9, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": $event => device.modelid = $event,\n      id: \"modelid\",\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_10), [[_vModelText, device.modelid]])]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": $event => device.entityid = $event,\n      id: \"entityid\",\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_13), [[_vModelText, device.entityid]])]), _createElementVNode(\"div\", _hoisted_14, [_hoisted_15, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": $event => device.namedevice = $event,\n      id: \"namedevice\",\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_16), [[_vModelText, device.namedevice]])]), _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": $event => device.typedevice = $event,\n      id: \"typedevice\",\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_19), [[_vModelText, device.typedevice]])]), _hoisted_20, _createElementVNode(\"div\", _hoisted_21, [_hoisted_22, _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": $event => device.downlink = $event,\n      id: \"downlink\",\n      class: \"form-control\"\n    }, null, 8 /* PROPS */, _hoisted_23), [[_vModelText, device.downlink]]), _createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"btn btn-secondary downlink-btn\",\n      onClick: $event => $options.sendDownlink(device)\n    }, \"Enviar Downlink\", 8 /* PROPS */, _hoisted_24)])], 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_4)])]);\n  }), 128 /* KEYED_FRAGMENT */))])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","for","type","_createCommentVNode","_hoisted_1","_hoisted_2","_createElementBlock","_Fragment","_renderList","$data","devices","device","key","deviceid","_hoisted_3","onSubmit","_withModifiers","$event","$options","updateDevice","_hoisted_5","_hoisted_6","id","_hoisted_8","_hoisted_9","modelid","_hoisted_11","_hoisted_12","entityid","_hoisted_14","_hoisted_15","namedevice","_hoisted_17","_hoisted_18","typedevice","_hoisted_20","_hoisted_21","_hoisted_22","downlink","onClick","sendDownlink","_hoisted_24"],"sources":["C:\\Users\\ivove\\Documents\\softwares-wisely\\api-front-vue3-zapdos\\src\\components\\Devices.vue"],"sourcesContent":["<template>\r\n  <!-- <div class=\"btn-group mb-2\" role=\"group\">\r\n      <button type=\"button\" class=\"btn btn-primary\" @click=\"addDevice()\">Listado ntidades</button>\r\n      <button type=\"button\" class=\"btn btn-danger\" @click=\"removeDevice()\">Eliminar Dispositivo</button>\r\n      <button type=\"button\" class=\"btn btn-success\" @click=\"updateDevices()\">Actualizar Todos los Dispositivos</button>\r\n    </div> -->\r\n\r\n    <div class=\"container\">\r\n    <h1 class=\"text-center mt-5\">CONFIGURACION ENTIDADES</h1>\r\n  </div>\r\n  <div class=\"card-deck\">\r\n    \r\n    <div v-for=\"device in devices\" :key=\"device.deviceid\" class=\"card\">\r\n      <div class=\"card-body\">\r\n        <form @submit.prevent=\"updateDevice(device)\" class=\"device-form\">\r\n          <div class=\"form-group\">\r\n            <label for=\"deviceid\" class=\"form-label\">Device ID:</label>\r\n            <input type=\"text\" v-model=\"device.deviceid\" id=\"deviceid\" class=\"form-control\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"modelid\" class=\"form-label\">Model ID:</label>\r\n            <input type=\"text\" v-model=\"device.modelid\" id=\"modelid\" class=\"form-control\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"entityid\" class=\"form-label\">Entity ID:</label>\r\n            <input type=\"text\" v-model=\"device.entityid\" id=\"entityid\" class=\"form-control\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"namedevice\" class=\"form-label\">Nombre del dispositivo:</label>\r\n            <input type=\"text\" v-model=\"device.namedevice\" id=\"namedevice\" class=\"form-control\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"typedevice\" class=\"form-label\">Tipo de dispositivo:</label>\r\n            <input type=\"text\" v-model=\"device.typedevice\" id=\"typedevice\" class=\"form-control\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <button type=\"submit\" class=\"btn btn-primary update-btn\">Actualizar</button>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"downlink\" class=\"form-label\">Downlink:</label>\r\n            <input type=\"text\" v-model=\"device.downlink\" id=\"downlink\" class=\"form-control\">\r\n            <button type=\"button\" class=\"btn btn-secondary downlink-btn\" @click=\"sendDownlink(device)\">Enviar Downlink</button>\r\n          </div>\r\n        \r\n        </form>\r\n   \r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<style src=\"./DeviceList.css\"></style>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nconst api = axios.create({\r\n            baseURL: `${process.env.VUE_APP_API_URL}`,\r\n          });\r\nexport default {\r\n  name: 'DeviceList',\r\n  data() {\r\n    return {\r\n      devices: [],\r\n      \r\n    };\r\n  },\r\n  methods: {\r\n    \r\n    updateDevice(device) {\r\n    \r\n          api.post(`/devices/${device.deviceid}`, {\r\n        deviceid: device.deviceid,\r\n      modelid: device.modelid,\r\n      entityid: device.entityid,\r\n      namedevice: device.namedevice,\r\n      typedevice: device.typedevice // Agregar el campo typedevice\r\n      })\r\n      .then(response => {\r\n        console.log(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response.data);\r\n      });\r\n    },\r\n    sendDownlink(device) {\r\n      api.post(`/devices/${device.deviceid}/downlink`)\r\n      .then(response => {\r\n        console.log(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response.data);\r\n      });\r\n    },\r\n    fetchDevices() {\r\n      api.get(`/devices`)\r\n      .then(response => {\r\n        this.devices = response.data;\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response.data);\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchDevices();\r\n    document.title = 'Entitades';\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    const isAuthenticated = localStorage.getItem('authToken');\r\n    if (!isAuthenticated) {\r\n      next({ name: 'Login' });\r\n    } else {\r\n      next();\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}