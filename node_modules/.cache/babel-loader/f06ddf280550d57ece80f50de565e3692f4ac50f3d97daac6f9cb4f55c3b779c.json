{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport './LoginView.css';\nexport default {\n  name: 'LoginView',\n  data() {\n    return {\n      username: '',\n      password: '',\n      loading: false,\n      success: false\n    };\n  },\n  methods: {\n    submitForm(event) {\n      event.preventDefault(); // prevenir la recarga de la página\n      const api = axios.create({\n        baseURL: `${process.env.VUE_APP_API_URL}`\n      });\n      this.loading = true;\n      api.post(`/login`, {\n        username: this.username,\n        password: this.password\n      }).then(response => {\n        localStorage.setItem('authToken', response.data.token);\n        this.loading = false;\n        this.success = true;\n        setTimeout(() => {\n          this.$router.push('/devices');\n        }, 2000); // Redirigir a la página de dispositivos después de 2 segundos\n      }).catch(error => {\n        this.loading = false;\n        console.log('Error de inicio de sesión:', error.response.data.message);\n      });\n    }\n  },\n  mounted() {\n    document.title = 'Login';\n  }\n};","map":{"version":3,"names":["axios","name","data","username","password","loading","success","methods","submitForm","event","preventDefault","api","create","baseURL","process","env","VUE_APP_API_URL","post","then","response","localStorage","setItem","token","setTimeout","$router","push","catch","error","console","log","message","mounted","document","title"],"sources":["C:\\Users\\ivove\\Documents\\softwares-wisely\\api-front-vue3-zapdos\\src\\components\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"auth-wrapper auth-v1 px-2\">\r\n    <div class=\"auth-inner py-2 custom-card\">\r\n      <h2 class=\"brand-text text-success ml-1\">Iniciar sesión</h2>\r\n      <form @submit.prevent=\"submitForm\" class=\"auth-login-form mt-2\">\r\n        <div class=\"form-group\">\r\n          <label for=\"username\">Nombre de usuario:</label>\r\n          <input type=\"text\" id=\"username\" v-model=\"username\" class=\"form-control\" autocomplete=\"on\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"password\">Contraseña:</label>\r\n          <input type=\"password\" id=\"password\" v-model=\"password\" class=\"form-control\" autocomplete=\"on\">\r\n        </div>\r\n        <button type=\"submit\" class=\"btn btn-success btn-block\" :disabled=\"!username || !password\">\r\n          Iniciar sesión\r\n        </button>\r\n      </form>\r\n      <div v-if=\"loading\" class=\"loading-overlay\">\r\n        <div class=\"spinner\"></div>\r\n      </div>\r\n      <div v-if=\"success\" class=\"alert alert-success mt-2\">\r\n        Credenciales correctas. Redirigiendo a la página de dispositivos...\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios';\r\n  import './LoginView.css';\r\n \r\n  export default {\r\n    name: 'LoginView',\r\n    data() {\r\n      return {\r\n        username: '',\r\n        password: '',\r\n        loading: false,\r\n        success: false\r\n      };\r\n    },\r\n    methods: {\r\n      submitForm(event) {\r\n        event.preventDefault(); // prevenir la recarga de la página\r\n        const api = axios.create({\r\n            baseURL: `${process.env.VUE_APP_API_URL}`,\r\n          });\r\n        this.loading = true;\r\n        api.post(`/login`, {\r\n          username: this.username,\r\n          password: this.password\r\n        })\r\n        .then(response => {\r\n          localStorage.setItem('authToken', response.data.token);\r\n          this.loading = false;\r\n          this.success = true;\r\n          setTimeout(() => {\r\n            this.$router.push('/devices');\r\n          }, 2000); // Redirigir a la página de dispositivos después de 2 segundos\r\n        })\r\n        .catch(error => {\r\n          this.loading = false;\r\n          console.log('Error de inicio de sesión:', error.response.data.message);\r\n        });\r\n      }\r\n    } ,mounted() {\r\n    document.title = 'Login';\r\n  },\r\n  };\r\n</script>\r\n"],"mappings":";AA4BE,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAO,iBAAiB;AAExB,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAACC,KAAK,EAAE;MAChBA,KAAK,CAACC,cAAc,EAAE,EAAE;MACxB,MAAMC,GAAE,GAAIX,KAAK,CAACY,MAAM,CAAC;QACrBC,OAAO,EAAG,GAAEC,OAAO,CAACC,GAAG,CAACC,eAAgB;MAC1C,CAAC,CAAC;MACJ,IAAI,CAACX,OAAM,GAAI,IAAI;MACnBM,GAAG,CAACM,IAAI,CAAE,QAAO,EAAE;QACjBd,QAAQ,EAAE,IAAI,CAACA,QAAQ;QACvBC,QAAQ,EAAE,IAAI,CAACA;MACjB,CAAC,EACAc,IAAI,CAACC,QAAO,IAAK;QAChBC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEF,QAAQ,CAACjB,IAAI,CAACoB,KAAK,CAAC;QACtD,IAAI,CAACjB,OAAM,GAAI,KAAK;QACpB,IAAI,CAACC,OAAM,GAAI,IAAI;QACnBiB,UAAU,CAAC,MAAM;UACf,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,UAAU,CAAC;QAC/B,CAAC,EAAE,IAAI,CAAC,EAAE;MACZ,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACd,IAAI,CAACtB,OAAM,GAAI,KAAK;QACpBuB,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEF,KAAK,CAACR,QAAQ,CAACjB,IAAI,CAAC4B,OAAO,CAAC;MACxE,CAAC,CAAC;IACJ;EACF;EAAGC,OAAOA,CAAA,EAAG;IACbC,QAAQ,CAACC,KAAI,GAAI,OAAO;EAC1B;AACA,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}