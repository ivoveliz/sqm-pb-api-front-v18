{"ast":null,"code":"import axios from 'axios';\nconst api = axios.create({\n  baseURL: `${process.env.VUE_APP_API_URL}`\n});\nexport default {\n  name: 'DeviceList',\n  data() {\n    return {\n      devices: []\n    };\n  },\n  methods: {\n    updateDevice(device) {\n      api.post(`/devices/${device.deviceid}`, {\n        deviceid: device.deviceid,\n        modelid: device.modelid,\n        entityid: device.entityid,\n        namedevice: device.namedevice,\n        typedevice: device.typedevice // Agregar el campo typedevice\n      }).then(response => {\n        console.log(response.data);\n      }).catch(error => {\n        console.log(error.response.data);\n      });\n    },\n    sendDownlink(device) {\n      api.post(`/devices/${device.deviceid}/downlink`).then(response => {\n        console.log(response.data);\n      }).catch(error => {\n        console.log(error.response.data);\n      });\n    },\n    fetchDevices() {\n      api.get(`/devices`).then(response => {\n        this.devices = response.data;\n      }).catch(error => {\n        console.log(error.response.data);\n      });\n    }\n  },\n  mounted() {\n    this.fetchDevices();\n    document.title = 'Entitades';\n  },\n  beforeRouteEnter(to, from, next) {\n    const isAuthenticated = localStorage.getItem('authToken');\n    if (!isAuthenticated) {\n      next({\n        name: 'Login'\n      });\n    } else {\n      next();\n    }\n  }\n};","map":{"version":3,"names":["axios","api","create","baseURL","process","env","VUE_APP_API_URL","name","data","devices","methods","updateDevice","device","post","deviceid","modelid","entityid","namedevice","typedevice","then","response","console","log","catch","error","sendDownlink","fetchDevices","get","mounted","document","title","beforeRouteEnter","to","from","next","isAuthenticated","localStorage","getItem"],"sources":["C:\\Users\\ivove\\Documents\\softwares-wisely\\api-front-vue3-zapdos\\src\\components\\Devices.vue"],"sourcesContent":["<template>\r\n  <!-- <div class=\"btn-group mb-2\" role=\"group\">\r\n      <button type=\"button\" class=\"btn btn-primary\" @click=\"addDevice()\">Listado ntidades</button>\r\n      <button type=\"button\" class=\"btn btn-danger\" @click=\"removeDevice()\">Eliminar Dispositivo</button>\r\n      <button type=\"button\" class=\"btn btn-success\" @click=\"updateDevices()\">Actualizar Todos los Dispositivos</button>\r\n    </div> -->\r\n\r\n    <div class=\"container\">\r\n    <h1 class=\"text-center mt-5\">CONFIGURACION ENTIDADES</h1>\r\n  </div>\r\n  <div class=\"card-deck\">\r\n    \r\n    <div v-for=\"device in devices\" :key=\"device.deviceid\" class=\"card\">\r\n      <div class=\"card-body\">\r\n        <form @submit.prevent=\"updateDevice(device)\" class=\"device-form\">\r\n          <div class=\"form-group\">\r\n            <label for=\"deviceid\" class=\"form-label\">Device ID:</label>\r\n            <input type=\"text\" v-model=\"device.deviceid\" id=\"deviceid\" class=\"form-control\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"modelid\" class=\"form-label\">Model ID:</label>\r\n            <input type=\"text\" v-model=\"device.modelid\" id=\"modelid\" class=\"form-control\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"entityid\" class=\"form-label\">Entity ID:</label>\r\n            <input type=\"text\" v-model=\"device.entityid\" id=\"entityid\" class=\"form-control\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"namedevice\" class=\"form-label\">Nombre del dispositivo:</label>\r\n            <input type=\"text\" v-model=\"device.namedevice\" id=\"namedevice\" class=\"form-control\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"typedevice\" class=\"form-label\">Tipo de dispositivo:</label>\r\n            <input type=\"text\" v-model=\"device.typedevice\" id=\"typedevice\" class=\"form-control\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <button type=\"submit\" class=\"btn btn-primary update-btn\">Actualizar</button>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"downlink\" class=\"form-label\">Downlink:</label>\r\n            <input type=\"text\" v-model=\"device.downlink\" id=\"downlink\" class=\"form-control\">\r\n            <button type=\"button\" class=\"btn btn-secondary downlink-btn\" @click=\"sendDownlink(device)\">Enviar Downlink</button>\r\n          </div>\r\n        \r\n        </form>\r\n   \r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<style src=\"./DeviceList.css\"></style>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nconst api = axios.create({\r\n            baseURL: `${process.env.VUE_APP_API_URL}`,\r\n          });\r\nexport default {\r\n  name: 'DeviceList',\r\n  data() {\r\n    return {\r\n      devices: [],\r\n      \r\n    };\r\n  },\r\n  methods: {\r\n    \r\n    updateDevice(device) {\r\n    \r\n          api.post(`/devices/${device.deviceid}`, {\r\n        deviceid: device.deviceid,\r\n      modelid: device.modelid,\r\n      entityid: device.entityid,\r\n      namedevice: device.namedevice,\r\n      typedevice: device.typedevice // Agregar el campo typedevice\r\n      })\r\n      .then(response => {\r\n        console.log(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response.data);\r\n      });\r\n    },\r\n    sendDownlink(device) {\r\n      api.post(`/devices/${device.deviceid}/downlink`)\r\n      .then(response => {\r\n        console.log(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response.data);\r\n      });\r\n    },\r\n    fetchDevices() {\r\n      api.get(`/devices`)\r\n      .then(response => {\r\n        this.devices = response.data;\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response.data);\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchDevices();\r\n    document.title = 'Entitades';\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    const isAuthenticated = localStorage.getItem('authToken');\r\n    if (!isAuthenticated) {\r\n      next({ name: 'Login' });\r\n    } else {\r\n      next();\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"mappings":"AAuDA,OAAOA,KAAI,MAAO,OAAO;AACzB,MAAMC,GAAE,GAAID,KAAK,CAACE,MAAM,CAAC;EACbC,OAAO,EAAG,GAAEC,OAAO,CAACC,GAAG,CAACC,eAAgB;AAC1C,CAAC,CAAC;AACZ,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE;IAEX,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IAEPC,YAAYA,CAACC,MAAM,EAAE;MAEfX,GAAG,CAACY,IAAI,CAAE,YAAWD,MAAM,CAACE,QAAS,EAAC,EAAE;QAC1CA,QAAQ,EAAEF,MAAM,CAACE,QAAQ;QAC3BC,OAAO,EAAEH,MAAM,CAACG,OAAO;QACvBC,QAAQ,EAAEJ,MAAM,CAACI,QAAQ;QACzBC,UAAU,EAAEL,MAAM,CAACK,UAAU;QAC7BC,UAAU,EAAEN,MAAM,CAACM,UAAS,CAAE;MAC9B,CAAC,EACAC,IAAI,CAACC,QAAO,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACZ,IAAI,CAAC;MAC5B,CAAC,EACAe,KAAK,CAACC,KAAI,IAAK;QACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAACJ,QAAQ,CAACZ,IAAI,CAAC;MAClC,CAAC,CAAC;IACJ,CAAC;IACDiB,YAAYA,CAACb,MAAM,EAAE;MACnBX,GAAG,CAACY,IAAI,CAAE,YAAWD,MAAM,CAACE,QAAS,WAAU,EAC9CK,IAAI,CAACC,QAAO,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACZ,IAAI,CAAC;MAC5B,CAAC,EACAe,KAAK,CAACC,KAAI,IAAK;QACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAACJ,QAAQ,CAACZ,IAAI,CAAC;MAClC,CAAC,CAAC;IACJ,CAAC;IACDkB,YAAYA,CAAA,EAAG;MACbzB,GAAG,CAAC0B,GAAG,CAAE,UAAS,EACjBR,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACX,OAAM,GAAIW,QAAQ,CAACZ,IAAI;MAC9B,CAAC,EACAe,KAAK,CAACC,KAAI,IAAK;QACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAACJ,QAAQ,CAACZ,IAAI,CAAC;MAClC,CAAC,CAAC;IACJ;EACF,CAAC;EACDoB,OAAOA,CAAA,EAAG;IACR,IAAI,CAACF,YAAY,EAAE;IACnBG,QAAQ,CAACC,KAAI,GAAI,WAAW;EAC9B,CAAC;EACDC,gBAAgBA,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAE;IAC/B,MAAMC,eAAc,GAAIC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;IACzD,IAAI,CAACF,eAAe,EAAE;MACpBD,IAAI,CAAC;QAAE3B,IAAI,EAAE;MAAQ,CAAC,CAAC;IACzB,OAAO;MACL2B,IAAI,EAAE;IACR;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}