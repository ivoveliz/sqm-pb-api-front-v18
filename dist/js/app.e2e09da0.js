(function(){"use strict";var e={4314:function(e,t,n){var o=n(9242),i=n(3396);const r={id:"app"};function a(e,t,n,o,a,s){const l=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(l)])}var s={name:"App"},l=n(89);const d=(0,l.Z)(s,[["render",a]]);var c=d,u=n(2483);const p={class:"auth-wrapper auth-v1 px-2"},m={class:"auth-inner py-2 custom-card"},f=(0,i._)("h2",{class:"brand-text text-success ml-1"},"Iniciar sesi칩n",-1),v={class:"form-group"},b=(0,i._)("label",{for:"username"},"Nombre de usuario:",-1),h={class:"form-group"},w=(0,i._)("label",{for:"password"},"Contrase침a:",-1),y=["disabled"];function g(e,t,n,r,a,s){return(0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("div",m,[f,(0,i._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>s.submitForm&&s.submitForm(...e)),["prevent"])),class:"auth-login-form mt-2"},[(0,i._)("div",v,[b,(0,i.wy)((0,i._)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),class:"form-control"},null,512),[[o.nr,a.username]])]),(0,i._)("div",h,[w,(0,i.wy)((0,i._)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),class:"form-control",autocomplete:"on"},null,512),[[o.nr,a.password]])]),(0,i._)("button",{type:"submit",class:"btn btn-success btn-block",disabled:!a.username||!a.password}," Iniciar sesi칩n ",8,y)],32)])])}n(7658);var _=n(4161),k={name:"LoginView",data(){return{username:"",password:"",apiUrl:"http://localhost:3000"}},methods:{submitForm(){_.Z.post(`${this.apiUrl}/login`,{username:this.username,password:this.password}).then((e=>{localStorage.setItem("authToken",e.data.token),this.$router.push("/devices")})).catch((e=>{console.log("Error de inicio de sesi칩n:",e.response.data.message)}))}}};const D=(0,l.Z)(k,[["render",g]]);var U=D;const x={class:"card-deck"},V={class:"card-body"},O=["onSubmit"],I={class:"form-group"},Z=(0,i._)("label",{for:"deviceid",class:"form-label"},"Device ID:",-1),$=["onUpdate:modelValue"],j={class:"form-group"},C=(0,i._)("label",{for:"modelid",class:"form-label"},"Model ID:",-1),E=["onUpdate:modelValue"],M={class:"form-group"},S=(0,i._)("label",{for:"entityid",class:"form-label"},"Entity ID:",-1),F=["onUpdate:modelValue"],L={class:"form-group"},T=(0,i._)("label",{for:"namedevice",class:"form-label"},"Nombre del dispositivo:",-1),P=["onUpdate:modelValue"],A=(0,i._)("div",{class:"form-group"},[(0,i._)("button",{type:"submit",class:"btn btn-primary update-btn"},"Actualizar")],-1),N={class:"form-group"},z=(0,i._)("label",{for:"downlink",class:"form-label"},"Downlink:",-1),H=["onUpdate:modelValue"],K=["onClick"];function R(e,t,n,r,a,s){return(0,i.wg)(),(0,i.iD)("div",x,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.devices,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.deviceid,class:"card"},[(0,i._)("div",V,[(0,i._)("form",{onSubmit:(0,o.iM)((t=>s.updateDevice(e)),["prevent"]),class:"device-form"},[(0,i._)("div",I,[Z,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t=>e.deviceid=t,id:"deviceid",class:"form-control"},null,8,$),[[o.nr,e.deviceid]])]),(0,i._)("div",j,[C,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t=>e.modelid=t,id:"modelid",class:"form-control"},null,8,E),[[o.nr,e.modelid]])]),(0,i._)("div",M,[S,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t=>e.entityid=t,id:"entityid",class:"form-control"},null,8,F),[[o.nr,e.entityid]])]),(0,i._)("div",L,[T,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t=>e.namedevice=t,id:"namedevice",class:"form-control"},null,8,P),[[o.nr,e.namedevice]])]),A,(0,i._)("div",N,[z,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t=>e.downlink=t,id:"downlink",class:"form-control"},null,8,H),[[o.nr,e.downlink]]),(0,i._)("button",{type:"button",class:"btn btn-secondary downlink-btn",onClick:t=>s.sendDownlink(e)},"Enviar Downlink",8,K)])],40,O)])])))),128))])}var W={name:"DeviceList",data(){return{devices:[],apiUrl:"http://localhost:3000"}},methods:{updateDevice(e){_.Z.post(`${this.apiUrl}/devices/${e.deviceid}`,{deviceid:e.deviceid,modelid:e.modelid,entityid:e.entityid,namedevice:e.namedevice}).then((e=>{console.log(e.data)})).catch((e=>{console.log(e.response.data)}))},sendDownlink(e){_.Z.post(`${this.apiUrl}/devices/${e.deviceid}/downlink`).then((e=>{console.log(e.data)})).catch((e=>{console.log(e.response.data)}))},fetchDevices(){_.Z.get(`${this.apiUrl}/devices`).then((e=>{this.devices=e.data})).catch((e=>{console.log(e.response.data)}))}},mounted(){this.fetchDevices()},beforeRouteEnter(e,t,n){const o=localStorage.getItem("authToken");o?n():n({name:"Login"})}};const Y=(0,l.Z)(W,[["render",R]]);var q=Y;const B=[{path:"/",name:"Login",component:U},{path:"/devices",component:q},{path:"/:pathMatch(.*)",redirect:"/"}],G=(0,u.p7)({history:(0,u.PO)(),routes:B});(0,o.ri)(c).use(G).mount("#app")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,r){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],r=e[c][2];for(var s=!0,l=0;l<o.length;l++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(s=!1,r<a&&(a=r));if(s){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,r,a=o[0],s=o[1],l=o[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var c=l(n)}for(t&&t(o);d<a.length;d++)r=a[d],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},o=self["webpackChunkmy_app"]=self["webpackChunkmy_app"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(4314)}));o=n.O(o)})();
//# sourceMappingURL=app.e2e09da0.js.map